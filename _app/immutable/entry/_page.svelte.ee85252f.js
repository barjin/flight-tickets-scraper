import{S as I,i as T,s as M,k as b,q as g,a as j,l as v,m as E,r as D,h,c as q,b as S,D as _,u as C,E as L,K,e as x,L as Q,g as A,d as N,v as V,f as J,M as W,N as X,y as B,z as H,A as R,O as Y,P as Z,B as G,Q as $,n as y,C as ee}from"../chunks/index.27075fdc.js";function te(i){let e,r,a,t,o,n,c,l,f,s,u=new Date(i[3]).toLocaleDateString()+"",p,w,k=new Date(i[4]).toLocaleDateString()+"",P;return{c(){e=b("div"),r=b("h3"),a=g(i[1]),t=g(" ("),o=g(i[0]),n=g(") - "),c=g(i[2]),l=g(" USD"),f=j(),s=b("p"),p=g(u),w=g(" - "),P=g(k)},l(m){e=v(m,"DIV",{});var d=E(e);r=v(d,"H3",{});var F=E(r);a=D(F,i[1]),t=D(F," ("),o=D(F,i[0]),n=D(F,") - "),c=D(F,i[2]),l=D(F," USD"),F.forEach(h),f=q(d),s=v(d,"P",{});var O=E(s);p=D(O,u),w=D(O," - "),P=D(O,k),O.forEach(h),d.forEach(h)},m(m,d){S(m,e,d),_(e,r),_(r,a),_(r,t),_(r,o),_(r,n),_(r,c),_(r,l),_(e,f),_(e,s),_(s,p),_(s,w),_(s,P)},p(m,[d]){d&2&&C(a,m[1]),d&1&&C(o,m[0]),d&4&&C(c,m[2]),d&8&&u!==(u=new Date(m[3]).toLocaleDateString()+"")&&C(p,u),d&16&&k!==(k=new Date(m[4]).toLocaleDateString()+"")&&C(P,k)},i:L,o:L,d(m){m&&h(e)}}}function re(i,e,r){let{airport:a}=e,{city:t}=e,{price:o}=e,{departureDate:n}=e,{returnDate:c}=e;return i.$$set=l=>{"airport"in l&&r(0,a=l.airport),"city"in l&&r(1,t=l.city),"price"in l&&r(2,o=l.price),"departureDate"in l&&r(3,n=l.departureDate),"returnDate"in l&&r(4,c=l.returnDate)},[a,t,o,n,c]}class ae extends I{constructor(e){super(),T(this,e,re,te,M,{airport:0,city:1,price:2,departureDate:3,returnDate:4})}}function U(i,e,r){const a=i.slice();return a[2]=e[r],a}function ne(i){let e,r;return{c(){e=b("p"),r=g("An error occurred!")},l(a){e=v(a,"P",{});var t=E(e);r=D(t,"An error occurred!"),t.forEach(h)},m(a,t){S(a,e,t),_(e,r)},p:L,i:L,o:L,d(a){a&&h(e)}}}function le(i){let e,r,a=i[1].slice(0,10),t=[];for(let n=0;n<a.length;n+=1)t[n]=z(U(i,a,n));const o=n=>N(t[n],1,1,()=>{t[n]=null});return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=x()},l(n){for(let c=0;c<t.length;c+=1)t[c].l(n);e=x()},m(n,c){for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(n,c);S(n,e,c),r=!0},p(n,c){if(c&1){a=n[1].slice(0,10);let l;for(l=0;l<a.length;l+=1){const f=U(n,a,l);t[l]?(t[l].p(f,c),A(t[l],1)):(t[l]=z(f),t[l].c(),A(t[l],1),t[l].m(e.parentNode,e))}for(V(),l=a.length;l<t.length;l+=1)o(l);J()}},i(n){if(!r){for(let c=0;c<a.length;c+=1)A(t[c]);r=!0}},o(n){t=t.filter(Boolean);for(let c=0;c<t.length;c+=1)N(t[c]);r=!1},d(n){W(t,n),n&&h(e)}}}function z(i){let e,r;const a=[i[2]];let t={};for(let o=0;o<a.length;o+=1)t=X(t,a[o]);return e=new ae({props:t}),{c(){B(e.$$.fragment)},l(o){H(e.$$.fragment,o)},m(o,n){R(e,o,n),r=!0},p(o,n){const c=n&1?Y(a,[Z(o[2])]):{};e.$set(c)},i(o){r||(A(e.$$.fragment,o),r=!0)},o(o){N(e.$$.fragment,o),r=!1},d(o){G(e,o)}}}function ce(i){let e,r;return{c(){e=b("p"),r=g("Loading data...")},l(a){e=v(a,"P",{});var t=E(e);r=D(t,"Loading data..."),t.forEach(h)},m(a,t){S(a,e,t),_(e,r)},p:L,i:L,o:L,d(a){a&&h(e)}}}function oe(i){let e,r,a=new Date().toLocaleDateString()+"",t,o,n,c,l,f={ctx:i,current:null,token:null,hasCatch:!0,pending:ce,then:le,catch:ne,value:1,error:5,blocks:[,,,]};return K(i[0],f),{c(){e=b("pre"),r=g("Last update at "),t=g(a),o=g(", 00:00"),n=j(),c=x(),f.block.c()},l(s){e=v(s,"PRE",{});var u=E(e);r=D(u,"Last update at "),t=D(u,a),o=D(u,", 00:00"),u.forEach(h),n=q(s),c=x(),f.block.l(s)},m(s,u){S(s,e,u),_(e,r),_(e,t),_(e,o),S(s,n,u),S(s,c,u),f.block.m(s,f.anchor=u),f.mount=()=>c.parentNode,f.anchor=c,l=!0},p(s,[u]){i=s,Q(f,i,u)},i(s){l||(A(f.block),l=!0)},o(s){for(let u=0;u<3;u+=1){const p=f.blocks[u];N(p)}l=!1},d(s){s&&h(e),s&&h(n),s&&h(c),f.block.d(s),f.token=null,f=null}}}const se="https://raw.githubusercontent.com/barjin/flight-tickets-scraper/master/results/recent.json";function ie(i){return i.filter(e=>e.flightprices.length>0).map(e=>{const r=e.flightprices.sort((a,t)=>a.price-t.price)[0];return{city:`${e.e} ${e.label}`,airport:e.iata,price:r.price,departureDate:r.dateFrom,returnDate:r.dateTo}}).sort((e,r)=>e.price-r.price)}function ue(i){return[(async()=>{const a=await(await fetch(se)).json();return ie(a)})()]}class fe extends I{constructor(e){super(),T(this,e,ue,oe,M,{})}}function _e(i){let e,r,a,t,o,n,c,l,f,s,u;return s=new fe({}),{c(){e=b("meta"),r=j(),a=b("section"),t=b("h1"),o=b("span"),n=b("picture"),c=b("img"),f=j(),B(s.$$.fragment),this.h()},l(p){const w=$("svelte-hut9iq",document.head);e=v(w,"META",{name:!0,content:!0}),w.forEach(h),r=q(p),a=v(p,"SECTION",{class:!0});var k=E(a);t=v(k,"H1",{class:!0});var P=E(t);o=v(P,"SPAN",{class:!0});var m=E(o);n=v(m,"PICTURE",{});var d=E(n);c=v(d,"IMG",{src:!0,alt:!0,class:!0}),d.forEach(h),m.forEach(h),P.forEach(h),f=q(k),H(s.$$.fragment,k),k.forEach(h),this.h()},h(){document.title="✈️  FreeFlight",y(e,"name","description"),y(e,"content","Flight ticket scraper"),ee(c.src,l="./logo.svg")||y(c,"src",l),y(c,"alt","FreeFlight"),y(c,"class","svelte-19xx0bt"),y(o,"class","welcome svelte-19xx0bt"),y(t,"class","svelte-19xx0bt"),y(a,"class","svelte-19xx0bt")},m(p,w){_(document.head,e),S(p,r,w),S(p,a,w),_(a,t),_(t,o),_(o,n),_(n,c),_(a,f),R(s,a,null),u=!0},p:L,i(p){u||(A(s.$$.fragment,p),u=!0)},o(p){N(s.$$.fragment,p),u=!1},d(p){h(e),p&&h(r),p&&h(a),G(s)}}}class pe extends I{constructor(e){super(),T(this,e,null,_e,M,{})}}export{pe as default};
