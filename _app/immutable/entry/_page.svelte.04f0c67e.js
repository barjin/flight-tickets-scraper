import{S as O,i as T,s as x,k as v,q as g,a as j,l as b,m as E,r as D,h,c as q,b as w,D as _,u as F,E as P,K,e as I,L as Q,g as C,d as N,v as V,f as J,M as W,N as X,y as B,z as H,A as R,O as Y,P as Z,B as G,Q as $,n as y,C as ee}from"../chunks/index.27075fdc.js";function te(i){let e,a,r,t,o,n,c,l,f,s,u=new Date(i[3]).toLocaleDateString()+"",p,S,k=new Date(i[4]).toLocaleDateString()+"",L;return{c(){e=v("div"),a=v("h3"),r=g(i[1]),t=g(" ("),o=g(i[0]),n=g(") - "),c=g(i[2]),l=g(" USD"),f=j(),s=v("p"),p=g(u),S=g(" - "),L=g(k)},l(m){e=b(m,"DIV",{});var d=E(e);a=b(d,"H3",{});var A=E(a);r=D(A,i[1]),t=D(A," ("),o=D(A,i[0]),n=D(A,") - "),c=D(A,i[2]),l=D(A," USD"),A.forEach(h),f=q(d),s=b(d,"P",{});var U=E(s);p=D(U,u),S=D(U," - "),L=D(U,k),U.forEach(h),d.forEach(h)},m(m,d){w(m,e,d),_(e,a),_(a,r),_(a,t),_(a,o),_(a,n),_(a,c),_(a,l),_(e,f),_(e,s),_(s,p),_(s,S),_(s,L)},p(m,[d]){d&2&&F(r,m[1]),d&1&&F(o,m[0]),d&4&&F(c,m[2]),d&8&&u!==(u=new Date(m[3]).toLocaleDateString()+"")&&F(p,u),d&16&&k!==(k=new Date(m[4]).toLocaleDateString()+"")&&F(L,k)},i:P,o:P,d(m){m&&h(e)}}}function re(i,e,a){let{airport:r}=e,{city:t}=e,{price:o}=e,{departureDate:n}=e,{returnDate:c}=e;return i.$$set=l=>{"airport"in l&&a(0,r=l.airport),"city"in l&&a(1,t=l.city),"price"in l&&a(2,o=l.price),"departureDate"in l&&a(3,n=l.departureDate),"returnDate"in l&&a(4,c=l.returnDate)},[r,t,o,n,c]}class ae extends O{constructor(e){super(),T(this,e,re,te,x,{airport:0,city:1,price:2,departureDate:3,returnDate:4})}}function M(i,e,a){const r=i.slice();return r[2]=e[a],r}function ne(i){let e,a;return{c(){e=v("p"),a=g("An error occurred!")},l(r){e=b(r,"P",{});var t=E(e);a=D(t,"An error occurred!"),t.forEach(h)},m(r,t){w(r,e,t),_(e,a)},p:P,i:P,o:P,d(r){r&&h(e)}}}function le(i){let e,a,r=i[1].slice(0,5),t=[];for(let n=0;n<r.length;n+=1)t[n]=z(M(i,r,n));const o=n=>N(t[n],1,1,()=>{t[n]=null});return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=I()},l(n){for(let c=0;c<t.length;c+=1)t[c].l(n);e=I()},m(n,c){for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(n,c);w(n,e,c),a=!0},p(n,c){if(c&1){r=n[1].slice(0,5);let l;for(l=0;l<r.length;l+=1){const f=M(n,r,l);t[l]?(t[l].p(f,c),C(t[l],1)):(t[l]=z(f),t[l].c(),C(t[l],1),t[l].m(e.parentNode,e))}for(V(),l=r.length;l<t.length;l+=1)o(l);J()}},i(n){if(!a){for(let c=0;c<r.length;c+=1)C(t[c]);a=!0}},o(n){t=t.filter(Boolean);for(let c=0;c<t.length;c+=1)N(t[c]);a=!1},d(n){W(t,n),n&&h(e)}}}function z(i){let e,a;const r=[i[2]];let t={};for(let o=0;o<r.length;o+=1)t=X(t,r[o]);return e=new ae({props:t}),{c(){B(e.$$.fragment)},l(o){H(e.$$.fragment,o)},m(o,n){R(e,o,n),a=!0},p(o,n){const c=n&1?Y(r,[Z(o[2])]):{};e.$set(c)},i(o){a||(C(e.$$.fragment,o),a=!0)},o(o){N(e.$$.fragment,o),a=!1},d(o){G(e,o)}}}function ce(i){let e,a;return{c(){e=v("p"),a=g("Loading data...")},l(r){e=b(r,"P",{});var t=E(e);a=D(t,"Loading data..."),t.forEach(h)},m(r,t){w(r,e,t),_(e,a)},p:P,i:P,o:P,d(r){r&&h(e)}}}function oe(i){let e,a,r=new Date().toLocaleDateString()+"",t,o,n,c,l,f={ctx:i,current:null,token:null,hasCatch:!0,pending:ce,then:le,catch:ne,value:1,error:5,blocks:[,,,]};return K(i[0],f),{c(){e=v("pre"),a=g("Last update at "),t=g(r),o=g(", 00:00"),n=j(),c=I(),f.block.c()},l(s){e=b(s,"PRE",{});var u=E(e);a=D(u,"Last update at "),t=D(u,r),o=D(u,", 00:00"),u.forEach(h),n=q(s),c=I(),f.block.l(s)},m(s,u){w(s,e,u),_(e,a),_(e,t),_(e,o),w(s,n,u),w(s,c,u),f.block.m(s,f.anchor=u),f.mount=()=>c.parentNode,f.anchor=c,l=!0},p(s,[u]){i=s,Q(f,i,u)},i(s){l||(C(f.block),l=!0)},o(s){for(let u=0;u<3;u+=1){const p=f.blocks[u];N(p)}l=!1},d(s){s&&h(e),s&&h(n),s&&h(c),f.block.d(s),f.token=null,f=null}}}const se="https://raw.githubusercontent.com/barjin/flight-tickets-scraper/master/results/recent.json";function ie(i){return i.filter(e=>e["Price (USD)"]&&e["Price (USD)"]!=="undefined").map(e=>({city:e.City,airport:e.Airport,price:Number(e["Price (USD)"]),departureDate:e.From,returnDate:e.To})).sort((e,a)=>e.price-a.price)}function ue(i){return[(async()=>{const r=await(await fetch(se)).json();return ie(r)})()]}class fe extends O{constructor(e){super(),T(this,e,ue,oe,x,{})}}function _e(i){let e,a,r,t,o,n,c,l,f,s,u;return s=new fe({}),{c(){e=v("meta"),a=j(),r=v("section"),t=v("h1"),o=v("span"),n=v("picture"),c=v("img"),f=j(),B(s.$$.fragment),this.h()},l(p){const S=$("svelte-hut9iq",document.head);e=b(S,"META",{name:!0,content:!0}),S.forEach(h),a=q(p),r=b(p,"SECTION",{class:!0});var k=E(r);t=b(k,"H1",{class:!0});var L=E(t);o=b(L,"SPAN",{class:!0});var m=E(o);n=b(m,"PICTURE",{});var d=E(n);c=b(d,"IMG",{src:!0,alt:!0,class:!0}),d.forEach(h),m.forEach(h),L.forEach(h),f=q(k),H(s.$$.fragment,k),k.forEach(h),this.h()},h(){document.title="✈️  FreeFlight",y(e,"name","description"),y(e,"content","Flight ticket scraper"),ee(c.src,l="./logo.svg")||y(c,"src",l),y(c,"alt","FreeFlight"),y(c,"class","svelte-19xx0bt"),y(o,"class","welcome svelte-19xx0bt"),y(t,"class","svelte-19xx0bt"),y(r,"class","svelte-19xx0bt")},m(p,S){_(document.head,e),w(p,a,S),w(p,r,S),_(r,t),_(t,o),_(o,n),_(n,c),_(r,f),R(s,r,null),u=!0},p:P,i(p){u||(C(s.$$.fragment,p),u=!0)},o(p){N(s.$$.fragment,p),u=!1},d(p){h(e),p&&h(a),p&&h(r),G(s)}}}class pe extends O{constructor(e){super(),T(this,e,null,_e,x,{})}}export{pe as default};
